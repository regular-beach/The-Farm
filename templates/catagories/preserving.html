<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preserving Food</title>
    <link href="{{ url_for('static', filename='styles/base.css') }}" rel="stylesheet" />
    <link href="{{ url_for('static', filename='styles/catagories/preserving.css') }}" rel="stylesheet" />
    <link href="{{ url_for('static', filename='styles/catagories/catagory.css') }}" rel="stylesheet" />
</head>


<body>

    {% include 'navigation.html' %}

    <div class="hero-container">
    <div class="pagetitle">Preserving Food</div>
    <img class="hero" src="{{ url_for('static', filename='/img/hero/HERO2.jpg') }}" alt="Preserving Food Image">
</div>

<div class="grid">
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/01.jpg') }}">
    </div>

    <div class="grid-item">
        <video autoplay loop muted playsinline>
            <source src="{{ url_for('static', filename='/img/preserving/preserving.mp4') }}" type="video/mp4">
        </video>
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_0437.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/p1.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_4144.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_5115.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_6457.jpg') }}">
    </div>
    <div class="grid-item">
        <video autoplay loop muted playsinline>
            <source src="{{ url_for('static', filename='/img/preserving/walnutdye.mp4') }}" type="video/mp4">
        </video>
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_6645.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_6931.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/03.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_6997.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_7085.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_7375.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_7472.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_7864.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_7949.jpg') }}">
    </div>
    <div class="grid-item">
        <video autoplay loop muted playsinline>
            <source src="{{ url_for('static', filename='/img/preserving/preserving2.mp4') }}" type="video/mp4">
        </video>
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/HERO1.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_8216.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_8270.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_8291.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_8300.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_8681.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_0507.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_8716.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_9268.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/02.jpg') }}">
    </div>
    <div class="grid-item">
        <img src="{{ url_for('static', filename='/img/preserving/IMG_5093.jpg') }}">
    </div>
</div>

{% include 'footer.html' %}

<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
<script src="https://unpkg.com/packery@2.1.2/dist/packery.pkgd.min.js"></script>
<script>
    window.onload = () => {
        const grid = document.querySelector('.grid');
        if (!grid) return; // Avoid errors if grid is not found

        const pckry = new Packery(grid, {
            itemSelector: '.grid-item',
            percentPosition: true
        });

        // Ensure layout happens after ALL images are loaded
        imagesLoaded(grid).on('always', function () {
            pckry.layout();
        });
    };
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vineyard</title>
    <link href="{{ url_for('static', filename='styles/base.css') }}" rel="stylesheet" />
    <link href="{{ url_for('static', filename='styles/catagories/catagory.css') }}" rel="stylesheet" />
    <link href="{{ url_for('static', filename='styles/catagories/vineyard.css') }}" rel="stylesheet" />
    <link href="{{ url_for('static', filename='styles/loading.css') }}" rel="stylesheet" />

</head>


<body>
    <div id="loading-screen">
        <p id="loading-text">Loading</p>
    </div>
    <div id="main-content" style="display:none;">  

    {% include 'navigation.html' %}


<div class="gridtitle">
    <div class="pagetitle">Vineyard</div>
</div>
<img class="hero" src="{{ url_for('static', filename='/img/vineyard/vineyard.jpg') }}" alt="History Image">

    <div class="grid">
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/tractor.mp4') }}" type="video/mp4">
            </video>
        </div>  
        <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_4189.jpg') }}">
        </div> 
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/bees.mp4') }}" type="video/mp4">
            </video>
        </div>  
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/compost.mp4') }}" type="video/mp4">
            </video>
            </div>
            <div class="grid-item">
                <video autoplay loop muted playsinline>
                    <source src="{{ url_for('static', filename='/img/vineyard/grapes.mp4') }}" type="video/mp4">
                </video>
            </div>  
     
        <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_0275.jpg') }}">
        </div>
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/beekeeper_1.mp4') }}" type="video/mp4">
            </video>
            </div>
            <div class="grid-item">
                <video autoplay loop muted playsinline>
                    <source src="{{ url_for('static', filename='/img/vineyard/crane.mp4') }}" type="video/mp4">
                </video>
            </div>  

        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/tractor3_1.mp4') }}" type="video/mp4">
            </video>
        </div>
        <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_1423.jpg') }}">
        </div>  
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/harvest.mp4') }}" type="video/mp4">
            </video>
        </div> 
        <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_8291.jpg') }}">
        </div>      
        <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_3443.jpg') }}">
        </div> 
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/signpainter.mp4') }}" type="video/mp4">
            </video>
        </div>      
            
        <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_6699.jpg') }}">
        </div>      
         <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_8177.jpg') }}">
        </div>  
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/harvest2.mp4') }}" type="video/mp4">
            </video>
        </div>    
         <div class="grid-item">
             <img src="{{ url_for('static', filename='/img/vineyard/IMG_8230.jpg') }}">
        </div>

            <div class="grid-item">
                <video autoplay loop muted playsinline>
                    <source src="{{ url_for('static', filename='/img/vineyard/tractor2_1.mp4') }}" type="video/mp4">
                </video>
            </div>  
        <div class="grid-item">
             <img src="{{ url_for('static', filename='/img/vineyard/IMG_8258.jpg') }}">
        </div>
        <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_1046.jpg') }}">
        </div> 
        <div class="grid-item">
            <video autoplay loop muted playsinline>
                <source src="{{ url_for('static', filename='/img/vineyard/harvest.mp4') }}" type="video/mp4">
            </video>
            </div>
       <div class="grid-item">
            <img src="{{ url_for('static', filename='/img/vineyard/IMG_8716.jpg') }}">
        </div> 
</div>


    <div>
        {% include 'footervineyard.html' %}
        </div>
        </div>

<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
<script src="https://unpkg.com/packery@2.1.2/dist/packery.pkgd.min.js"></script>
<script>
//for loading
window.addEventListener('load', () => {
    // Hide the loading screen
    const loadingScreen = document.getElementById('loading-screen');
    const mainContent = document.getElementById('main-content');

    loadingScreen.style.display = 'none'; // Hide the loading screen
    mainContent.style.display = 'block'; // Show the main content
});

    window.onload = () => {
        const grid = document.querySelector('.grid');
        if (!grid) return; // Avoid errors if grid is not found

        const pckry = new Packery(grid, {
            itemSelector: '.grid-item',
            percentPosition: true
        });

        // Ensure layout happens after ALL images are loaded
        imagesLoaded(grid).on('always', function () {
            pckry.layout();
        });
    };
</script>

</body>
</html>